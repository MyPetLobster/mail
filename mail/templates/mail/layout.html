{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %}Mail{% endblock %}</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link rel="stylesheet" href="{% static 'mail/styles.css' %}">
        {% block script %}
        {% endblock %}
    </head>
    <body>
        
        <div class="page-content">
            <div class="navbar navbar-expand-lg navbar-light">
                <div class="top-navbar">
                    <svg id="hamburger" focusable="false" viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg>
                    <a class="navbar-brand" href="{% url 'index' %}">
                        <img id="gmail-logo" src="https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_2x_r5.png">
                    </a>
                </div>
                <div id="bottom-navbar">
                    <button id="compose-button" class="btn btn-primary compose-link">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
                        <defs>
                        </defs>
                        <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)" >
                            <path class="svg-envelope" d="M 40.345 69.936 H 6.4 c -3.53 0 -6.402 -2.872 -6.402 -6.402 V 16.61 c 0 -3.53 2.872 -6.402 6.402 -6.402 h 67.89 c 3.53 0 6.403 2.872 6.403 6.402 v 6.753 c 0 1.105 -0.896 2 -2 2 s -2 -0.896 -2 -2 V 16.61 c 0 -1.324 -1.078 -2.402 -2.402 -2.402 H 6.4 c -1.324 0 -2.402 1.078 -2.402 2.402 v 46.924 c 0 1.324 1.078 2.401 2.402 2.401 h 33.945 c 1.105 0 2 0.896 2 2 S 41.45 69.936 40.345 69.936 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                            <path class="svg-envelope" d="M 40.345 50.514 c -0.485 0 -0.97 -0.176 -1.352 -0.526 l -28.155 -25.83 c -0.814 -0.747 -0.869 -2.012 -0.122 -2.826 c 0.747 -0.814 2.013 -0.868 2.826 -0.122 l 26.803 24.589 L 67.148 21.21 c 0.816 -0.748 2.08 -0.692 2.826 0.122 c 0.747 0.814 0.692 2.079 -0.121 2.826 l -28.155 25.83 C 41.315 50.338 40.83 50.514 40.345 50.514 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                            <path class="svg-envelope" d="M 12.191 61.711 c -0.541 0 -1.08 -0.218 -1.474 -0.648 c -0.747 -0.814 -0.692 -2.079 0.122 -2.825 l 20.18 -18.513 c 0.814 -0.747 2.079 -0.692 2.826 0.122 c 0.747 0.814 0.692 2.079 -0.122 2.826 l -20.18 18.513 C 13.159 61.537 12.674 61.711 12.191 61.711 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                            <path class="svg-envelope" d="M 54.017 48.424 c -0.482 0 -0.967 -0.174 -1.351 -0.526 l -5.698 -5.226 c -0.814 -0.747 -0.869 -2.012 -0.122 -2.826 c 0.746 -0.813 2.012 -0.87 2.825 -0.122 l 5.698 5.226 c 0.814 0.747 0.869 2.012 0.122 2.825 C 55.097 48.206 54.558 48.424 54.017 48.424 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                            <path id="pencil" d="M 86.966 30.116 c -1.801 -1.593 -4.121 -2.397 -6.511 -2.241 c -2.4 0.146 -4.597 1.219 -6.189 3.019 L 48.298 60.249 c -0.058 0.065 -0.103 0.138 -0.151 0.21 c -0.021 0.03 -0.045 0.057 -0.064 0.088 c -0.078 0.13 -0.139 0.268 -0.186 0.411 c -0.003 0.009 -0.009 0.017 -0.012 0.026 L 42.88 77.202 c -0.231 0.751 -0.002 1.567 0.586 2.088 c 0.373 0.33 0.846 0.502 1.326 0.502 c 0.277 0 0.556 -0.058 0.818 -0.175 l 15.476 -6.941 c 0 0 0.001 0 0.001 0 l 0.01 -0.005 c 0.013 -0.006 0.024 -0.016 0.037 -0.023 c 0.125 -0.059 0.244 -0.131 0.356 -0.217 c 0.046 -0.035 0.084 -0.076 0.126 -0.115 c 0.053 -0.049 0.111 -0.09 0.16 -0.145 l 25.968 -29.355 C 91.03 39.099 90.682 33.402 86.966 30.116 z M 48.006 74.158 l 2.787 -9.031 l 2.919 2.582 l 2.919 2.582 L 48.006 74.158 z M 84.748 40.166 L 60.105 68.023 l -3.743 -3.311 l -3.743 -3.311 l 24.643 -27.857 c 0.884 -1 2.105 -1.595 3.437 -1.677 c 1.322 -0.082 2.616 0.36 3.616 1.245 C 86.379 34.938 86.573 38.102 84.748 40.166 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                        </g>
                        </svg>
                        &nbsp;&nbsp;Compose
                    </button>
                    <ul id="navbar-nav" class="navbar-nav">
                        <li class="nav-item">
                            <a id="inbox-link" class="nav-link">Inbox</a>
                        </li>
                        <li class="nav-item">
                            <a id="sent-link" class="nav-link">Sent</a>
                        </li>
                        <li class="nav-item">
                            <a id="archive-link" class="nav-link">Archived</a>
                        </li>
                        <li class="nav-item">
                            <a id="logout-link" class="nav-link" href="{% url 'logout' %}">Log Out</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="container">
                <div class="top-container">
                    <div class="search-bar">
                        <svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                        </svg>
                        <input id="search" placeholder="Search">
                    </div>
                    
                    <div class="user-info">
                        <a class="profile-pic-container" href="{% url 'index' %}">
                            {% if request.user.profile_picture %}
                                <img class="profile-picture" src="{{ request.user.profile_picture.url }}">
                            {% else %}
                                <img class="profile-picture" src="../../static/mail/images/vecteezy_default-avatar-profile.jpg">
                            {% endif %}
                        </a>
                    </div>
                </div>
                <div class="bottom-container">
                    {% block body %}
                    {% endblock %}
                </div>
            </div>
        </div>

        <script>
            // if user clicks on search bar, make the entire div a few pixels larger and make the background of the search bar and div white (.search-bar and #search)

            const search = document.querySelector('#search');
            const searchBar = document.querySelector('.search-bar');

            search.addEventListener('click', () => {
                searchBar.style.backgroundColor = 'white';
                search.style.backgroundColor = 'white';
            });
            // if user clicks anywhere else on page set background color of search bar and div back to original color #d5d5d5
            document.addEventListener('click', (e) => {
                if (e.target !== search) {
                    searchBar.style.backgroundColor = '#d5d5d5';
                    search.style.backgroundColor = '#d5d5d5';
                }
            });

        </script>
    </body>
</html>