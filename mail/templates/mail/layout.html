{% load static %}

{% load custom_filters %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %}{% endblock %}</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link rel="stylesheet" href="{% static 'mail/styles.css' %}">
        <link rel="icon" type="image/png" href="../../static/mail/images/gmail.ico">
        {% block script %}
        {% endblock %}
    </head>
    <body>
        
        <div class="page-content">
            <div id="base-nav-div" class="navbar navbar-expand-lg navbar-light">
                <div class="top-navbar"> 
                    <svg id="hamburger" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">
                        <rect width="256" height="256" fill="none"/>
                        <path d="M48.07,96a8,8,0,0,1-7.89-9.72C46.68,55.55,83.52,32,128,32s81.32,23.55,87.82,54.28A8,8,0,0,1,207.93,96Z" fill="none" stroke="rgb(84,84,84)" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/>
                        <polyline points="24 176 68 160 108 176 148 160 188 176 232 160" fill="none" stroke="rgb(84,84,84)" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/>
                        <line x1="24" y1="128" x2="232" y2="128" fill="none" stroke="rgb(84,84,84)" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/>
                        <path class="bottom-bun" d="M208,168.73V184a32,32,0,0,1-32,32H80a32,32,0,0,1-32-32V167.27" fill="none" stroke="rgb(84,84,84)" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/>
                    </svg>     
                    <a class="navbar-brand" href="{% url 'index' %}">
                        <img id="gmail-logo" src="https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_2x_r5.png">
                    </a>
                </div>
                <div id="bottom-navbar">
                    <button id="compose-button" class="btn btn-primary compose-link">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
                        <defs>
                        </defs>
                        <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)" >
                            <path class="svg-envelope" d="M 40.345 69.936 H 6.4 c -3.53 0 -6.402 -2.872 -6.402 -6.402 V 16.61 c 0 -3.53 2.872 -6.402 6.402 -6.402 h 67.89 c 3.53 0 6.403 2.872 6.403 6.402 v 6.753 c 0 1.105 -0.896 2 -2 2 s -2 -0.896 -2 -2 V 16.61 c 0 -1.324 -1.078 -2.402 -2.402 -2.402 H 6.4 c -1.324 0 -2.402 1.078 -2.402 2.402 v 46.924 c 0 1.324 1.078 2.401 2.402 2.401 h 33.945 c 1.105 0 2 0.896 2 2 S 41.45 69.936 40.345 69.936 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                            <path class="svg-envelope" d="M 40.345 50.514 c -0.485 0 -0.97 -0.176 -1.352 -0.526 l -28.155 -25.83 c -0.814 -0.747 -0.869 -2.012 -0.122 -2.826 c 0.747 -0.814 2.013 -0.868 2.826 -0.122 l 26.803 24.589 L 67.148 21.21 c 0.816 -0.748 2.08 -0.692 2.826 0.122 c 0.747 0.814 0.692 2.079 -0.121 2.826 l -28.155 25.83 C 41.315 50.338 40.83 50.514 40.345 50.514 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                            <path class="svg-envelope" d="M 12.191 61.711 c -0.541 0 -1.08 -0.218 -1.474 -0.648 c -0.747 -0.814 -0.692 -2.079 0.122 -2.825 l 20.18 -18.513 c 0.814 -0.747 2.079 -0.692 2.826 0.122 c 0.747 0.814 0.692 2.079 -0.122 2.826 l -20.18 18.513 C 13.159 61.537 12.674 61.711 12.191 61.711 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                            <path class="svg-envelope" d="M 54.017 48.424 c -0.482 0 -0.967 -0.174 -1.351 -0.526 l -5.698 -5.226 c -0.814 -0.747 -0.869 -2.012 -0.122 -2.826 c 0.746 -0.813 2.012 -0.87 2.825 -0.122 l 5.698 5.226 c 0.814 0.747 0.869 2.012 0.122 2.825 C 55.097 48.206 54.558 48.424 54.017 48.424 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                            <path id="pencil" d="M 86.966 30.116 c -1.801 -1.593 -4.121 -2.397 -6.511 -2.241 c -2.4 0.146 -4.597 1.219 -6.189 3.019 L 48.298 60.249 c -0.058 0.065 -0.103 0.138 -0.151 0.21 c -0.021 0.03 -0.045 0.057 -0.064 0.088 c -0.078 0.13 -0.139 0.268 -0.186 0.411 c -0.003 0.009 -0.009 0.017 -0.012 0.026 L 42.88 77.202 c -0.231 0.751 -0.002 1.567 0.586 2.088 c 0.373 0.33 0.846 0.502 1.326 0.502 c 0.277 0 0.556 -0.058 0.818 -0.175 l 15.476 -6.941 c 0 0 0.001 0 0.001 0 l 0.01 -0.005 c 0.013 -0.006 0.024 -0.016 0.037 -0.023 c 0.125 -0.059 0.244 -0.131 0.356 -0.217 c 0.046 -0.035 0.084 -0.076 0.126 -0.115 c 0.053 -0.049 0.111 -0.09 0.16 -0.145 l 25.968 -29.355 C 91.03 39.099 90.682 33.402 86.966 30.116 z M 48.006 74.158 l 2.787 -9.031 l 2.919 2.582 l 2.919 2.582 L 48.006 74.158 z M 84.748 40.166 L 60.105 68.023 l -3.743 -3.311 l -3.743 -3.311 l 24.643 -27.857 c 0.884 -1 2.105 -1.595 3.437 -1.677 c 1.322 -0.082 2.616 0.36 3.616 1.245 C 86.379 34.938 86.573 38.102 84.748 40.166 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
                        </g>
                        </svg>
                        <span class="nav-text">&nbsp;&nbsp;Compose</span>
                    </button>
                    <ul id="navbar-nav" class="navbar-nav">
                        <li class="nav-item">
                            <a id="inbox-link" class="nav-link">
                                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 4C18 3.44772 18.4477 3 19 3C19.5523 3 20 3.44772 20 4V7.58579L20.2929 7.29289C20.6834 6.90237 21.3166 6.90237 21.7071 7.29289C22.0976 7.68342 22.0976 8.31658 21.7071 8.70711L19.7071 10.7071C19.6112 10.803 19.5007 10.8753 19.3828 10.9241C19.2657 10.9727 19.1375 10.9996 19.003 11L19 11L18.997 11C18.8625 10.9996 18.7343 10.9727 18.6172 10.9241C18.4993 10.8753 18.3888 10.803 18.2929 10.7071L16.2929 8.70711C15.9024 8.31658 15.9024 7.68342 16.2929 7.29289C16.6834 6.90237 17.3166 6.90237 17.7071 7.29289L18 7.58579V4Z" fill="rgb(84,84,84)"/>
                                    <path d="M4 19V11.1793L11.47 15.848C11.7943 16.0507 12.2057 16.0507 12.53 15.848L16.53 13.348C16.9983 13.0553 17.1407 12.4383 16.848 11.97C16.5553 11.5017 15.9383 11.3593 15.47 11.652L12 13.8208L5.88679 10H13C13.5523 10 14 9.55228 14 9C14 8.44772 13.5523 8 13 8H5C3.34315 8 2 9.34315 2 11V19C2 20.6569 3.34315 22 5 22H19C20.6569 22 22 20.6569 22 19V13C22 12.4477 21.5523 12 21 12C20.4477 12 20 12.4477 20 13V19C20 19.5523 19.5523 20 19 20H5C4.44772 20 4 19.5523 4 19Z" fill="rgb(84,84,84)"/>
                                </svg>
                                <span class="nav-text">Inbox</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a id="sent-link" class="nav-link">
                                <svg class="nav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18 10C18 10.5523 18.4477 11 19 11C19.5523 11 20 10.5523 20 10V6.41423L20.2929 6.70712C20.6834 7.09765 21.3166 7.09765 21.7071 6.70712C22.0976 6.3166 22.0976 5.68344 21.7071 5.29291L19.7108 3.29656C19.6863 3.27189 19.6606 3.24848 19.6338 3.22644C19.5945 3.19424 19.5534 3.16548 19.5108 3.14015C19.3613 3.05113 19.1866 3 19 3C18.8417 3 18.692 3.03679 18.5589 3.10228C18.477 3.14251 18.3995 3.19462 18.3289 3.25861C18.3154 3.27086 18.3022 3.28347 18.2894 3.29642L16.2929 5.29291C15.9024 5.68344 15.9024 6.3166 16.2929 6.70713C16.6834 7.09765 17.3166 7.09765 17.7071 6.70712L18 6.41423V10Z" fill="rgb(84,84,84)"/>
                                    <path d="M13 10H5.88679L12 13.8208L15.47 11.652C15.9383 11.3593 16.5553 11.5017 16.848 11.97C17.1407 12.4383 16.9983 13.0553 16.53 13.348L12.53 15.848C12.2057 16.0507 11.7943 16.0507 11.47 15.848L4 11.1793V19C4 19.5523 4.44772 20 5 20H19C19.5523 20 20 19.5523 20 19V13C20 12.4477 20.4477 12 21 12C21.5523 12 22 12.4477 22 13V19C22 20.6569 20.6569 22 19 22H5C3.34315 22 2 20.6569 2 19V11C2 9.34315 3.34315 8 5 8H13C13.5523 8 14 8.44772 14 9C14 9.55228 13.5523 10 13 10Z" fill="rgb(84,84,84)"/>
                                </svg>
                                <span class="nav-text">Sent</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a id="archive-link" class="nav-link">

                                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 12C10.4477 12 10 12.4477 10 13C10 13.5523 10.4477 14 11 14H13C13.5523 14 14 13.5523 14 13C14 12.4477 13.5523 12 13 12H11Z" fill="rgb(84,84,84)"/>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M3 10H4V20C4 21.1046 4.89543 22 6 22H18C19.1046 22 20 21.1046 20 20V10H21C21.5523 10 22 9.55228 22 9V5C22 4.44772 21.5523 4 21 4H3C2.44772 4 2 4.44772 2 5V9C2 9.55228 2.44772 10 3 10ZM4 6V8H20V6H4ZM6 10H18V20H6V10Z" fill="rgb(84,84,84)"/>
                                </svg>

                                <span class="nav-text">Archived</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a id="logout-link" class="nav-link logout-link" href="{% url 'logout' %}">
                                <svg class="logout-nav-icon" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M16 14.9987V17.9987C16 18.7944 15.6839 19.5574 15.1213 20.12C14.5587 20.6826 13.7956 20.9987 13 20.9987H3C2.20435 20.9987 1.44129 20.6826 0.87868 20.12C0.316071 19.5574 0 18.7944 0 17.9987V3.99872C0 3.20307 0.316071 2.44001 0.87868 1.8774C1.44129 1.31479 2.20435 0.998718 3 0.998718H13C13.7956 0.998718 14.5587 1.31479 15.1213 1.8774C15.6839 2.44001 16 3.20307 16 3.99872V6.99872C16 7.26393 15.8946 7.51829 15.7071 7.70582C15.5196 7.89336 15.2652 7.99872 15 7.99872C14.7348 7.99872 14.4804 7.89336 14.2929 7.70582C14.1054 7.51829 14 7.26393 14 6.99872V3.99872C14 3.7335 13.8946 3.47915 13.7071 3.29161C13.5196 3.10408 13.2652 2.99872 13 2.99872H3C2.73478 2.99872 2.48043 3.10408 2.29289 3.29161C2.10536 3.47915 2 3.7335 2 3.99872V17.9987C2 18.2639 2.10536 18.5183 2.29289 18.7058C2.48043 18.8934 2.73478 18.9987 3 18.9987H13C13.2652 18.9987 13.5196 18.8934 13.7071 18.7058C13.8946 18.5183 14 18.2639 14 17.9987V14.9987C14 14.7335 14.1054 14.4791 14.2929 14.2916C14.4804 14.1041 14.7348 13.9987 15 13.9987C15.2652 13.9987 15.5196 14.1041 15.7071 14.2916C15.8946 14.4791 16 14.7335 16 14.9987ZM19.71 10.2887L17.71 8.28872C17.5217 8.10041 17.2663 7.99463 17 7.99463C16.7337 7.99463 16.4783 8.10041 16.29 8.28872C16.1017 8.47702 15.9959 8.73242 15.9959 8.99872C15.9959 9.26502 16.1017 9.52041 16.29 9.70872L16.59 9.99872H10C9.73478 9.99872 9.48043 10.1041 9.29289 10.2916C9.10536 10.4791 9 10.7335 9 10.9987C9 11.2639 9.10536 11.5183 9.29289 11.7058C9.48043 11.8934 9.73478 11.9987 10 11.9987H16.59L16.29 12.2887C16.1963 12.3817 16.1219 12.4923 16.0711 12.6141C16.0203 12.736 15.9942 12.8667 15.9942 12.9987C15.9942 13.1307 16.0203 13.2614 16.0711 13.3833C16.1219 13.5052 16.1963 13.6158 16.29 13.7087C16.383 13.8024 16.4936 13.8768 16.6154 13.9276C16.7373 13.9784 16.868 14.0045 17 14.0045C17.132 14.0045 17.2627 13.9784 17.3846 13.9276C17.5064 13.8768 17.617 13.8024 17.71 13.7087L19.71 11.7087C19.8037 11.6158 19.8781 11.5052 19.9289 11.3833C19.9797 11.2614 20.0058 11.1307 20.0058 10.9987C20.0058 10.8667 19.9797 10.736 19.9289 10.6141C19.8781 10.4923 19.8037 10.3817 19.71 10.2887Z" fill="rgb(84,84,84)"/>
                                </svg>
                                <span class="nav-text">Log Out</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="main-container margin-left-48">
                <div class="top-container">
                    <div class="search-bar">
                        <svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path id="search-glass-icon" fill="rgb(84,84,84)" d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                        </svg>
                        <input id="search" placeholder="Search">
                    </div>
                    
                    <div class="user-info">
                        <a id="nav-profile-pic" class="profile-pic-container">
                            <img class="profile-picture" src="../../static/mail/images/profile_pics_demo_db/{{ request.user.username }}.jpg">
                        </a>
                    </div>
                </div>
                <div class="bottom-container">
                    <div id="dropdown-menu" class="display-none">
                        <div class="dropdown-x-div">
                            <div id="dropdown-x" class="dropdown-x">&times;</div>
                        </div>
                        <div id="dropdown-menu-content">
                            <h6 class="dropdown-greeting">Hi, {{ request.user.username }}!</h6>
                            <div class="dropdown-picture-div">
                                <img class="profile-picture" src="../../static/mail/images/profile_pics_demo_db/{{ request.user.username }}.jpg">
                            </div>
                            <div class="dropdown-links-div">
                                <a class="dropdown-link" href="{% url 'index' %}">Home</a>
                                <a class="dropdown-link logout-link" href="{% url 'logout' %}">Logout</a>
                            </div>
                        </div>
                    </div>
                    {% block body %}
                    {% endblock %}
                </div>
            </div>
        </div>
        <div id="faded-background" class="display-none"></div>
    </body>
</html>